#!/usr/bin/env bash

MENU="⏻  Poweroff\n  Lock\n  Reboot\n󰍃  Logout\n⏼  Suspend"

selected=$(echo -e "$MENU" | hyprdev-launch-walker --minwidth 1 --maxwidth 295 --minheight 1 --maxheight 300 -d -n -H)

if [ -z "$selected" ]; then
  exit 0
fi

case "$selected" in
*Poweroff*)
  notify-send "Hyprdev" "System will Poweroff"
  sleep 2
  systemctl poweroff
  ;;
*Lock*)
  hyprlock
  ;;
*Reboot*)
  notify-send "Hyprdev" "System will Reboot"
  sleep 2
  systemctl reboot
  ;;
*Logout*)
  notify-send "Hyprdev" "Logging out"
  sleep 2
  hyprctl dispatch exit 0
  systemctl restart ly
  ;;
*Suspend*)
  notify-send "Hyprdev" "System will Suspend"
  sleep 2
  systemctl suspend
  ;;
esac
